{"version":3,"sources":["error.js","components/repayments.js","components/repaymentsContainer.js","components/calculatedRepayment.js","components/popUp.js","components/main.js","app.js","store.js","index.js"],"names":["ErrorCatcher","props","state","this","hasError","children","e","React","Component","Repayments","useState","checked","checkedState","checkedStateUpdater","className","type","onChange","id","htmlFor","money","year","RepaymentsContainer","repaymentElement","taxDeduction","deduction","formula","salary","toFixed","fractional","equalAmounts","Math","floor","maxValue","vocabulary","rest","equalParts","i","push","CalculatedRepayment","repayments","PopUp","calculationIsOpen","calculationIsOpenUpdater","salaryState","salaryUpdater","discontState","discontStateUpdater","userAttention","userAttentionUpdater","discontChange","target","newDiscountState","Object","create","getOwnPropertyDescriptors","prop","value","header","about","action","method","salaryInfo","name","placeholder","salaryPlaceholder","requiredField","onClick","minValue","calculate","totalEarlyRepayment","discontInfo","payment","discontPayment","defaultChecked","time","discontTime","submit","closeModal","close","Main","popupIsOpen","popUpIsOpen","popUpIsOpenUpdater","controlModal","firstHeader","secondHeader","calculationText","popUp","App","store","Number","ReactDOM","render","mainSection","document","getElementById"],"mappings":"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","file":"static/js/main.24c6453b.chunk.js","sourcesContent":["import React from 'react'\n\nclass ErrorCatcher extends React.Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      'hasError': false,\n    };\n  }\n\n  static getDerivedStateFromError(e) {\n    return {\n      hasError: true,\n    };\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <h1>\n          Что-то пошло не так!\n        </h1>\n      );\n    }\n    return this.props.children;\n  }\n}\n\nexport { ErrorCatcher }\n","import React, { useState } from 'react';\n\nconst Repayments = (props) => {\n  const [checkedState, checkedStateUpdater] = useState(props.checked);\n\n  const onChange = () => {\n    checkedStateUpdater(!checkedState);\n  }\n\n  return (\n    <li className='popup__repayment-item'>\n      <input type='checkbox' checked={checkedState} className='popup__repayment-checkbox visually-hidden' onChange={onChange} id={props.id}/>\n      <label className='popup__repayment-label' htmlFor={props.id}>\n        <p className='popup__text popup__text--amount'>\n          {`${props.money} рублей `}\n          <span className='popup__repayment-year'>\n            {props.year}\n          </span>\n        </p>\n      </label>\n    </li>\n  );\n}\n\nexport { Repayments }\n","import React from 'react';\nimport { Repayments } from './repayments.js';\n\nconst RepaymentsContainer = (props) => {\n  const repaymentElement = (checked, id, money, year) => {\n    return (\n      <Repayments\n        checked={checked}\n        id={id}\n        key={id}\n        money={money}\n        year={year}\n      />\n    );\n  }\n\n  const taxDeduction = props.deduction.formula(props.salary).toFixed(props.deduction.fractional);\n  const equalAmounts = Math.floor(props.deduction.maxValue / taxDeduction);\n\n  if (equalAmounts === 0) {\n    return repaymentElement(true, 0, props.deduction.maxValue, props.vocabulary[0]);\n  }\n\n  const rest = (props.deduction.maxValue % taxDeduction).toFixed(props.deduction.fractional);\n  const equalParts = [];\n  for (let i = 1; i <= equalAmounts; i++) {\n    equalParts.push(repaymentElement(true, i, taxDeduction, props.vocabulary[i]));\n  }\n  equalParts.push(repaymentElement(false, equalAmounts + 1, rest, props.vocabulary[equalAmounts + 1]));\n  return (\n    <>\n      {equalParts}\n    </>\n  );\n}\n\nexport { RepaymentsContainer }\n","import React from 'react';\nimport { RepaymentsContainer } from './repaymentsContainer.js';\n\nconst CalculatedRepayment = (props) => {\n  return (\n    <div className='popup__repayment-wrapper'>\n      <p className='popup__text popup__text--repayment'>\n        {props.repayments}\n      </p>\n      <ul className='popup__repayments-list'>\n        <RepaymentsContainer\n          deduction={props.deduction}\n          salary={props.salary}\n          vocabulary={props.vocabulary} />\n      </ul>\n    </div>\n  );\n}\n\nexport { CalculatedRepayment }\n","import React, { useState } from 'react';\nimport { CalculatedRepayment } from './calculatedRepayment.js';\n\nconst PopUp = (props) => {\n  const [calculationIsOpen, calculationIsOpenUpdater] = useState(props.state.calculationIsOpen);\n  const [salary, salaryUpdater] = useState(props.state.salaryState);\n  const [discontState, discontStateUpdater] = useState(props.state.discontState);\n  const [userAttention, userAttentionUpdater] = useState(props.state.userAttention);\n\n  const openCalculation = (e) => {\n    if (salary < props.state.deduction.minValue) {\n      userAttentionUpdater(true);\n      return;\n    }\n\n    calculationIsOpenUpdater(!calculationIsOpen);\n  }\n\n  const salaryChange = (e) => {\n    if (calculationIsOpen) {\n      calculationIsOpenUpdater(false);\n    }\n\n    if (userAttention) {\n      userAttentionUpdater(false);\n    }\n\n    salaryUpdater(e.target.value);\n  }\n\n  const discontChange = (e) => {\n    const target = e.target;\n    const newDiscountState = Object.create(null, Object.getOwnPropertyDescriptors(discontState));\n\n    for (let prop in newDiscountState) {\n      newDiscountState[prop] = false;\n    }\n\n    discontStateUpdater({...newDiscountState, [target.value]: true});\n  }\n\n  return (\n    <div className={calculationIsOpen ? 'popup popup--calculation-enabled' : 'popup'}>\n      <h3 className='popup__text popup__header'>\n        {props.state.header}\n      </h3>\n      <p className='popup__text popup__annotation'>\n        {props.state.about}\n      </p>\n      <form className='popup__form' action='https://echo.somewhereelse.com/' method='post'>\n        <label htmlFor='salary' className='popup__label'>\n          {props.state.salaryInfo}\n        </label>\n        <input\n          type='number'\n          name='salary'\n          id='salary'\n          className={userAttention ? 'popup__salary-value popup__salary-value--attention' : 'popup__salary-value'}\n          value={salary}\n          placeholder={props.state.salaryPlaceholder}\n          onChange={salaryChange}/>\n          {userAttention && <p className='popup__user-attention'>{props.state.requiredField}</p>}\n        <button\n          type='button'\n          className={calculationIsOpen ? 'popup__button popup__calculate popup__calculate--enabled' : 'popup__button popup__calculate'}\n          onClick={openCalculation}>\n          {props.state.calculate}\n        </button>\n        {calculationIsOpen && (\n          <CalculatedRepayment\n            deduction={props.state.deduction}\n            vocabulary={props.state.vocabulary}\n            salary={salary}\n            repayments={props.state.totalEarlyRepayment} />\n        )}\n        <div className={calculationIsOpen ? 'popup__discont-wrapper popup__discont-wrapper--enabled' : 'popup__discont-wrapper'}>\n          <p className='popup__text popup__discont-text'>\n            {props.state.discontInfo}\n          </p>\n          <label className={discontState.payment ? 'popup__label popup__label--selected popup__label--discont' : 'popup__label popup__label--discont'}>\n            {props.state.discontPayment}\n            <input\n              type='radio'\n              name='discont'\n              value='payment'\n              className='visually-hidden'\n              defaultChecked={discontState.payment}\n              onClick={discontChange}\n            />\n          </label>\n          <label className={discontState.time ? 'popup__label popup__label--selected popup__label--discont' : 'popup__label popup__label--discont'}>\n            {props.state.discontTime}\n            <input\n              type='radio'\n              name='discont'\n              value='time'\n              className='visually-hidden'\n              defaultChecked={discontState.time}\n              onClick={discontChange}\n            />\n          </label>\n        </div>\n        <button type='submit' className='popup__button popup__submit'>\n          {props.state.submit}\n        </button>\n      </form>\n      <button type='button' className='popup__button popup__close-button' onClick={props.closeModal}>\n        <span className='visually-hidden'>\n          {props.state.close}\n        </span>\n      </button>\n    </div>\n  );\n}\n\nexport { PopUp }\n","import React, { useState } from 'react';\nimport { PopUp } from './popUp.js';\n\nconst Main = (props) => {\n  const [popUpIsOpen, popUpIsOpenUpdater] = useState(props.state.popupIsOpen);\n\n  const controlModal = () => {\n    popUpIsOpenUpdater(!popUpIsOpen);\n  }\n\n  return (\n    <main className={popUpIsOpen ? 'calculation calculation--opened' : 'calculation'}>\n      <h1 className='visually-hidden'>{props.state.firstHeader}</h1>\n      <section className='calculation__wrapper'>\n        <h2 className='visually-hidden'>{props.state.secondHeader}</h2>\n        {!popUpIsOpen && (<button type='button' className='calculation__show-popup' onClick={controlModal}>\n          {props.state.calculationText}\n        </button>)}\n        {popUpIsOpen && <PopUp closeModal={controlModal} state={props.state.popUp}/>}\n      </section>\n    </main>\n  );\n}\n\nexport { Main }\n","import React from 'react';\nimport { Main } from './components/main.js';\n\nconst App = (props) => {\n  return (\n    <Main {...props}/>\n  );\n}\n\nexport { App }\n","const store = {\n  'mainSection': {\n    'firstHeader': 'Калькуляция досрочного погашения ипотеки',\n    'secondHeader': 'Рассчет налогового вычета',\n    'calculationText': 'Налоговый вычет',\n    'popUpIsOpen': false,\n    'popUp': {\n      'header': 'Налоговый вычет',\n      'calculationIsOpen': false,\n      'userAttention': false,\n      'about': 'Используйте налоговый вычет чтобы погасить ипотеку досрочно. Размер\\u00A0налогового вычета составляет не\\u00A0более 13% от своего официального годового дохода.',\n      'salaryInfo': 'Ваша зарплата в месяц',\n      'salaryPlaceholder': 'Введите данные',\n      'calculate': 'Рассчитать',\n      'discontInfo': 'Что уменьшаем?',\n      'discontPayment': 'Платёж',\n      'discontTime': 'Срок',\n      'submit': 'Добавить',\n      'close': 'Закрыть модальное окно',\n      'salaryState': '',\n      'totalEarlyRepayment': 'Итого можете внести в качестве досрочных:',\n      'discontState': {\n        'payment': true,\n        'time': false,\n      },\n      'requiredField': 'Поле обязательно для заполнения',\n      'minDebounce': 400,\n      'deduction': {\n        'formula': (salary) => (Number(salary) * 12) * .13,\n        'maxValue': 260000,\n        'minValue': 13617,\n        'fractional': 2,\n      },\n      'vocabulary': {\n        '1': 'в 1-ый год',\n        '2': 'во 2-ой год',\n        '3': 'в 3-ий год',\n        '4': 'в 4-ый год',\n        '5': 'в 5-ый год',\n        '6': 'в 6-ой год',\n        '7': 'в 7-ой год',\n        '8': 'в 8-ой год',\n        '9': 'в 9-ый год',\n        '10': 'в 10-ый год',\n        '11': 'в 11-ый год',\n        '12': 'в 12-ый год',\n        '13': 'в 13-ый год',\n      },\n    }\n  }\n}\n\nexport { store }\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './sass/style.sass';\nimport { ErrorCatcher } from './error.js';\nimport { App } from './app.js';\nimport { store } from './store.js';\n\nReactDOM.render(\n  <ErrorCatcher>\n    <App state={store.mainSection}/>\n  </ErrorCatcher>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}